(this["webpackJsonpreact-money-in-the-bank"]=this["webpackJsonpreact-money-in-the-bank"]||[]).push([[0],{257:function(e,t,a){e.exports=a(496)},263:function(e,t,a){},496:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l);a(262),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(263);var c=a(157),i=function(){return r.a.createElement(c.a,{bg:"dark",variant:"dark",sticky:"top"},r.a.createElement(c.a.Brand,null,"Money in the Bank"))},s=a(33),u=a(34),m=a(36),d=a(35),h=a(37),E=a(78),p=a(48),f=a(119),y=a(113),g=a(26),b=a(13),D=a(75),v=a.n(D),O=(a(163),function(e){var t=e.handleChange,a=e.handleSubmit,n=e.handleStartDateChange,l=e.handleEndDateChange,o=e.newTransaction;return r.a.createElement("div",{className:"container"},r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{controlId:"formTransactionName"},r.a.createElement(b.a.Control,{type:"text",name:"name",placeholder:"Enter transaction name",onChange:t,value:o.name})),r.a.createElement(b.a.Group,{controlId:"formTransactionAmount"},r.a.createElement(b.a.Control,{type:"number",step:"any",min:"0",name:"amount",placeholder:"Enter amount",onChange:t,value:o.amount})),r.a.createElement(b.a.Group,{controlId:"formTransactionFrequency"},r.a.createElement(b.a.Control,{as:"select",name:"frequency",onChange:t,defaultValue:""},r.a.createElement("option",{value:"",disabled:!0},"Select transaction frequency"),r.a.createElement("option",null,"Once"),r.a.createElement("option",null,"Monthly"),r.a.createElement("option",null,"Bi-weekly"),r.a.createElement("option",null,"Weekly"),r.a.createElement("option",null,"Daily"))),r.a.createElement(b.a.Group,{controlId:"formTransactionType"},r.a.createElement(b.a.Control,{as:"select",name:"type",onChange:t,defaultValue:""},r.a.createElement("option",{value:"",disabled:!0},"Select transaction type"),r.a.createElement("option",null,"Expense"),r.a.createElement("option",null,"Income"))),r.a.createElement(b.a.Group,{controlId:"formTransactionDueDate"},r.a.createElement(v.a,{selected:o.dueDate,onChange:n,placeholderText:"Enter start date"})),r.a.createElement(b.a.Group,{controlId:"formTransactionEndDate"},r.a.createElement(v.a,{selected:o.endDate,onChange:l,placeholderText:"Enter end date"})),r.a.createElement(g.a,{type:"submit",variant:"info",block:!0,onClick:a},"Add transaction")))}),S=a(21),C=a(42),I=a(89),T=function(e){var t=r.a.useState(!1),a=Object(S.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"info",onClick:function(){e.handleEditModalShow(),l(!0)},size:"sm"},"Edit"),r.a.createElement(C.a,{show:n,onHide:function(){return l(!1)}},r.a.createElement(C.a.Header,{closeButton:!0},r.a.createElement(C.a.Title,null,"Edit transaction")),r.a.createElement(C.a.Body,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{controlId:"editFormTransactionName"},r.a.createElement(b.a.Label,null,"Name"),r.a.createElement(b.a.Control,{type:"text",name:"name",onChange:e.handleEditChange,value:e.transactionDetails.name})),r.a.createElement(b.a.Group,{controlId:"editFormTransactionAmount"},r.a.createElement(b.a.Label,null,"Amount"),r.a.createElement(b.a.Control,{type:"number",name:"amount",onChange:e.handleEditChange,value:e.transactionDetails.amount})),r.a.createElement(b.a.Group,{controlId:"editFormTransactionFrequency"},r.a.createElement(b.a.Label,null,"Frequency"),r.a.createElement(b.a.Control,{as:"select",name:"frequency",value:e.transactionDetails.frequency,onChange:e.handleEditChange},r.a.createElement("option",null,"Once"),r.a.createElement("option",null,"Monthly"),r.a.createElement("option",null,"Bi-weekly"),r.a.createElement("option",null,"Weekly"),r.a.createElement("option",null,"Daily"))),r.a.createElement(b.a.Group,{controlId:"formTransactionType"},r.a.createElement(b.a.Label,null,"Type"),r.a.createElement(b.a.Control,{as:"select",name:"type",value:e.transactionDetails.type,onChange:e.handleEditChange},r.a.createElement("option",null,"Expense"),r.a.createElement("option",null,"Income"))),r.a.createElement(b.a.Group,{controlId:"editFormTransactionDueDate"},r.a.createElement(b.a.Label,null,"Due Date"),r.a.createElement("br",null),r.a.createElement(v.a,{isClearable:!0,value:I(e.transactionDetails.dueDate).utc().format("MM/DD/YYYY"),onChange:e.handleStartDateEditChange})),r.a.createElement(b.a.Group,{controlId:"editFormTransactionEndDate"},r.a.createElement(b.a.Label,null,"End Date"),r.a.createElement("br",null),r.a.createElement(v.a,{isClearable:!0,value:I(e.transactionDetails.endDate).utc().format("MM/DD/YYYY"),onChange:e.handleEndDateEditChange})),r.a.createElement(g.a,{type:"submit",variant:"info",onClick:function(t){l(!1),e.handleEditSubmit(t,e.index,e)},block:!0},"Save Changes")))))},L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log("error",e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w,j,N=a(89),q=a(165),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState((function(e){return{newTransaction:F({},e.newTransaction,Object(f.a)({},n,r))}}))},a.handleStartDateChange=function(e){a.setState((function(t){return{newTransaction:F({},t.newTransaction,{dueDate:e})}}))},a.handleEndDateChange=function(e){a.setState((function(t){return{newTransaction:F({},t.newTransaction,{endDate:e})}}))},a.handleSubmit=function(e){e.preventDefault(),a.setState((function(e){return{transactionList:[].concat(Object(p.a)(e.transactionList),[e.newTransaction]),newTransaction:{name:"",amount:"",dueDate:"",endDate:"",frequency:a.state.newTransaction.frequency,isPaid:!1,type:a.state.newTransaction.type,transactionId:q()}}}))},a.setEditingTransaction=function(e){var t=F({},e);t.transactionId=q(),a.setState({editedTransaction:t})},a.handleEditChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState((function(e){return{editedTransaction:F({},e.editedTransaction,Object(f.a)({},n,r))}}))},a.handleStartDateEditChange=function(e){a.setState((function(t){return{editedTransaction:F({},t.editedTransaction,{dueDate:e})}}))},a.handleEndDateEditChange=function(e){a.setState((function(t){return{editedTransaction:F({},t.editedTransaction,{endDate:e})}}))},a.handleEditSubmit=function(e,t,n){e.preventDefault();var r=a.state.transactionList;r.splice(t,1,a.state.editedTransaction);var l=r;a.setState((function(){return{transactionList:l,editedTransaction:{name:"",amount:"",dueDate:"",endDate:"",frequency:"Once",isPaid:!1,type:"",transactionId:q()}}}))},a.state={newTransaction:{name:"",amount:"",dueDate:"",endDate:"",frequency:"Once",isPaid:!1,type:"Expense",transactionId:q()},editedTransaction:{name:"",amount:"",dueDate:"",endDate:"",frequency:"Once",isPaid:!1,type:"Expense",transactionId:q()},transactionList:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"removeTransaction",value:function(e){if(e<this.state.transactionList.length){var t=Object(p.a)(this.state.transactionList);t.splice(e,1),localStorage.setItem("transactionList",JSON.stringify(t)),this.setState({transactionList:t})}}},{key:"componentDidMount",value:function(){localStorage.getItem("transactionList")&&this.setState({transactionList:JSON.parse(localStorage.getItem("transactionList"))})}},{key:"componentDidUpdate",value:function(){localStorage.setItem("transactionList",JSON.stringify(this.state.transactionList))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"Input transactions here to see how they affect your forecast on the other tabs.")),r.a.createElement(O,{handleChange:this.handleChange,newTransaction:this.state.newTransaction,handleSubmit:this.handleSubmit,handleStartDateChange:this.handleStartDateChange,handleEndDateChange:this.handleEndDateChange}),r.a.createElement("div",{className:"container"},r.a.createElement(y.a,{responsive:!0,style:{marginLeft:"auto",marginRight:"auto"},striped:!0,bordered:!0,hover:!0,variant:"dark",size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Frequency"),r.a.createElement("th",null,"Due Date"),r.a.createElement("th",null,"End Date"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.state.transactionList.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,t.frequency),r.a.createElement("td",null,N(t.dueDate).utc().format("MM/DD/YYYY")),""===t.endDate?r.a.createElement("td",null,"None"):r.a.createElement("td",null,N(t.endDate).utc().format("MM/DD/YYYY")),r.a.createElement("td",null,t.type),r.a.createElement("td",null,r.a.createElement(L,null,r.a.createElement(T,{index:a,handleEditModalShow:function(){return e.setEditingTransaction(e.state.transactionList[a])},transactionDetails:e.state.editedTransaction,handleEditChange:e.handleEditChange,handleStartDateEditChange:e.handleStartDateEditChange,handleEndDateEditChange:e.handleEndDateEditChange,handleEditSubmit:e.handleEditSubmit})),r.a.createElement(g.a,{variant:"danger",onClick:function(){return e.removeTransaction(a)},size:"sm"},"X")))}))))))}}]),t}(r.a.Component),Y=a(11),M=a(154),x=function(e){var t=r.a.useState(!1),a=Object(S.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"info",onClick:function(){l(!0)}},"Edit"),r.a.createElement(C.a,{show:n,onHide:function(){return l(!1)}},r.a.createElement(C.a.Header,{closeButton:!0},r.a.createElement(C.a.Title,null,"Edit balance")),r.a.createElement(C.a.Body,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{controlId:"editFormTransactionName"},r.a.createElement(b.a.Label,null,"Balance"),r.a.createElement(b.a.Control,{type:"number",name:"balance",ref:e.editBalanceInput,placeholder:e.balance})),r.a.createElement(g.a,{type:"submit",variant:"info",onClick:function(t){l(!1),e.handleBalanceEditSubmit(t)}},"Save Changes")))))},P=a(89),J=a(165),G=[],A=JSON.parse(localStorage.getItem("forecastList"))||[],K=0,W=0,z={endDate:new Date,limit:2},H=new Date,R=new Date(z.endDate.setFullYear(z.endDate.getFullYear()+z.limit)),U=function(e){function t(e){var a;Object(s.a)(this,t);var n=JSON.parse(localStorage.getItem("transactionList")),l=JSON.parse(localStorage.getItem("balance"))||0,o=JSON.parse(localStorage.getItem("paidItemsList"))||[];return(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleBalanceEditSubmit=function(e){var t=a.editBalanceInput.current.value;localStorage.setItem("balance",JSON.stringify(t)),e.preventDefault(),a.setState({balance:t})},a.state={transactionList:n,balance:l,paidItemsList:o,forecastList:A},a.editBalanceInput=r.a.createRef(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"markAsPaid",value:function(e){var t=Object(p.a)(this.state.transactionList),a=Object(M.cloneDeep)(t),n=Object(p.a)(this.state.paidItemsList),r=Object(M.cloneDeep)(n),l=parseFloat(this.state.balance)+this.checkForTransactionType(this.state.transactionList[e]);l=parseFloat(l).toFixed(2),a[e].isPaid=!0,r.push(a[e]),a.splice(e,1),localStorage.setItem("forecastList",JSON.stringify(a)),localStorage.setItem("balance",JSON.stringify(l)),localStorage.setItem("paidItemsList",JSON.stringify(r)),this.setState({transactionList:a,balance:l,paidItemsList:r,forecastList:a})}},{key:"checkForTransactionType",value:function(e){return"Expense"===e.type?(W=parseFloat(e.amount)-2*parseFloat(e.amount),parseFloat(W)):(W=parseFloat(e.amount),parseFloat(W))}},{key:"calculateForecast",value:function(){G=[],this.state.transactionList.forEach((function(e){if(j=""===e.endDate?R:new Date(e.endDate),w=""===e.dueDate?H:new Date(e.dueDate),"Monthly"===e.frequency){var t=new Y.a({freq:Y.a.MONTHLY,dtstart:w,interval:1,until:j}).all(),a=0;for(a=0;a<t.length;a++)G.push({name:e.name,amount:parseFloat(e.amount),dueDate:t[a],endDate:e.endDate,frequency:e.frequency,isPaid:!1,type:e.type,transactionId:e.transactionId,forecastId:J()})}else if("Bi-weekly"===e.frequency){var n=new Y.a({freq:Y.a.WEEKLY,dtstart:w,interval:2,until:j}).all(),r=0;for(r=0;r<n.length;r++)G.push({name:e.name,amount:parseFloat(e.amount),dueDate:n[r],endDate:e.endDate,frequency:e.frequency,isPaid:!1,type:e.type,transactionId:e.transactionId,forecastId:J()})}else if("Weekly"===e.frequency){var l=new Y.a({freq:Y.a.WEEKLY,dtstart:w,interval:1,until:j}).all(),o=0;for(o=0;o<l.length;o++)G.push({name:e.name,amount:parseFloat(e.amount),dueDate:l[o],endDate:e.endDate,frequency:e.frequency,isPaid:!1,type:e.type,transactionId:e.transactionId,forecastId:J()})}else if("Daily"===e.frequency){var c=new Y.a({freq:Y.a.DAILY,dtstart:w,interval:1,until:j}).all(),i=0;for(i=0;i<c.length;i++)G.push({name:e.name,amount:parseFloat(e.amount),dueDate:c[i],endDate:e.endDate,frequency:e.frequency,isPaid:!1,type:e.type,transactionId:e.transactionId,forecastId:J()})}else"Once"===e.frequency&&G.push({name:e.name,amount:parseFloat(e.amount),dueDate:w,endDate:e.endDate,frequency:e.frequency,isPaid:!1,type:e.type,transactionId:e.transactionId,forecastId:J()})})),A=G.sort((function(e,t){return e.dueDate-t.dueDate})),localStorage.setItem("forecastList",JSON.stringify(A)),this.setState({transactionList:A})}},{key:"componentDidMount",value:function(){this.state.transactionList?0===this.state.transactionList.length?this.setState({transactionList:null,forecastList:null}):this.calculateForecast():this.setState({transactionList:null,forecastList:null})}},{key:"componentWillUnmount",value:function(){localStorage.setItem("balance",JSON.stringify(this.state.balance)),localStorage.setItem("forecastList",JSON.stringify(this.state.forecastList)),this.state.transactionList&&this.setState({transactionList:JSON.parse(localStorage.getItem("transactionList"))}),this.state.paidItemsList&&localStorage.setItem("paidItemsList",JSON.stringify(this.state.paidItemsList))}},{key:"drawForecastTable",value:function(){var e=this;return this.state.transactionList?r.a.createElement(y.a,{responsive:!0,style:{marginLeft:"auto",marginRight:"auto"},striped:!0,bordered:!0,hover:!0,variant:"dark",size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Due Date"),r.a.createElement("th",null,"Balance"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.state.transactionList.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,e.checkForTransactionType(t).toFixed(2)),r.a.createElement("td",null,P(t.dueDate).utc().format("MM/DD/YYYY")),r.a.createElement("td",null,function(){if(0===a){var t=parseFloat(e.state.balance);return K=parseFloat(t)+parseFloat(W),parseFloat(K).toFixed(2)}return K=parseFloat(K)+parseFloat(W),parseFloat(K).toFixed(2)}()),r.a.createElement("td",null,r.a.createElement(g.a,{index:a,variant:"info",onClick:function(){return e.markAsPaid(a)},size:"sm"},"Paid")))})))):r.a.createElement("p",null,"Looks like you have no transactions saved. Go create some on the transactions tab.")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Forecast"),r.a.createElement("h3",null,"Balance: $",this.state.balance," \xa0",r.a.createElement(x,{balance:this.state.balance,editBalanceInput:this.editBalanceInput,handleBalanceEditModalShow:function(){return e.setBalanceToEdit(e.state.balance)},handleBalanceEdit:this.handleBalanceEdit,handleBalanceEditSubmit:this.handleBalanceEditSubmit})),this.drawForecastTable())}}]),t}(r.a.Component),V=a(50),$=a(89),X=[],Q=0,Z=0,_=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"checkForTransactionType",value:function(e){return"Expense"===e.type?(Q=parseFloat(e.amount)-2*parseFloat(e.amount),parseFloat(Q)):(Q=parseFloat(e.amount),parseFloat(Q))}},{key:"getForecast",value:function(){var e=this,t=JSON.parse(localStorage.getItem("forecastList"))||[],a=JSON.parse(localStorage.getItem("balance"))||0;Z=parseFloat(a),X=[],t.forEach((function(t){e.checkForTransactionType(t),Z+=Q,X.push({date:$(t.dueDate).utc().format("MM/DD/YYYY"),Balance:parseFloat(Z.toFixed(2)),Name:t.name})}))}},{key:"gradientOffset",value:function(){var e=Math.max.apply(Math,Object(p.a)(X.map((function(e){return e.Balance})))),t=Math.min.apply(Math,Object(p.a)(X.map((function(e){return e.Balance}))));return e<=0?0:t>=0?1:e/(e-t)}},{key:"render",value:function(){return this.getForecast(),r.a.createElement("div",{className:"container"},r.a.createElement(V.d,{aspect:"1.5",width:"95%"},r.a.createElement(V.b,{data:X,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(V.c,{strokeDasharray:"3 3"}),r.a.createElement(V.f,{dataKey:"date"}),r.a.createElement(V.g,null),r.a.createElement(V.e,{payload:X}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"splitColor",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:this.gradientOffset(),stopColor:"#17A2B8",stopOpacity:1}),r.a.createElement("stop",{offset:this.gradientOffset(),stopColor:"#f24236",stopOpacity:1}))),r.a.createElement(V.a,{type:"monotone",dataKey:"Balance",stroke:"#000",fill:"url(#splitColor)"}),r.a.createElement(V.a,{type:"monotone",dataKey:"Name",stroke:"#000",fill:"#000",opacity:"0"}))))}}]),t}(r.a.Component),ee=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{defaultActiveKey:"transactions"},r.a.createElement(E.a,{eventKey:"transactions",title:"Transactions",unmountOnExit:!0},r.a.createElement(B,null)),r.a.createElement(E.a,{eventKey:"forecast",title:"Forecast",unmountOnExit:!0},r.a.createElement(U,null)),r.a.createElement(E.a,{eventKey:"chart",title:"Chart",unmountOnExit:!0},r.a.createElement(_,null)))}}]),t}(r.a.Component);var te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement(ee,null))};o.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[257,1,2]]]);
//# sourceMappingURL=main.edbea4dd.chunk.js.map